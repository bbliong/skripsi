define(["../my-app.js"],function(_myApp){"use strict";function _templateObject_8a29e0c0da2b11e9886ab5694315db4a(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style include=\"shared-styles\">\n        :host {\n          display: block;\n\n          padding: 10px;\n        }\n        #main-table, #sub-table { \n          border-collapse: collapse;\n          border: 1px solid #ddd;\n          text-align: left;\n          width :100%;\n        }\n\n        #main-table > tbody > tr > th{\n          width : 20%;\n          padding : 8px;\n        }\n\n        \n        #sub-table > tbody > tr > td:first-child{\n          width : 30%;\n          padding : 8px;\n        }\n\n\n        tr:nth-child(even) {background-color: #f2f2f2;}\n\n        vaadin-text-area {\n          max-height: 300px;\n          width: 90%;\n          margin : 1px 20px\n        }\n\n        vaadin-text-field, vaadin-number-field ,  vaadin-select,  vaadin-date-picker, p, paper-button {\n          width : 90%;\n          margin : 2px 20px;\n        }\n\n        @media all and (max-width: 900px){\n          .card {\n            display :table;\n          }\n\n          .card > table {\n            display :table-row;\n          }\n        }\n\n\n        @media all and (min-width: 600px) {\n          .aside {\n            flex-grow: 1;\n            flex-basis: 0;\n            width : 50%;\n          }\n        }\n\n        @media all and (max-width: 700px){\n          .main {\n            padding: 0px;\n            margin-left: -10px;\n          }\n          table {\n            margin-top : 30px;\n          }\n        }\n\n        @media all and (min-width: 800px) {\n          .main {\n            flex-grow: 3;\n            flex-basis: 0;\n            display :flex;\n          }\n\n          .main {\n            order: 2;\n          }\n\n        }\n        table { \n          border-collapse: collapse;\n          border: 1px solid #ddd;\n          text-align: left;\n          width :100%;\n        }\n\n        table > tbody > tr > td{\n          padding : 8px;\n        }\n\n        tr:nth-child(even) {background-color: #f2f2f2;}\n\n        paper-button.blue, paper-button.green {\n            width : 46%;\n        }\n\n\n        @media all and (max-width: 600px) {\n          paper-button, paper-button.blue, paper-button.green {\n            width : 90%;\n          }\n        }\n\n      </style>\n       <!-- app-location binds to the app's URL -->\n       <app-location route=\"{{route}}\"></app-location>\n\n      <!-- this app-route manages the top-level routes -->\n      <app-route\n          route=\"{{route}}\"\n          pattern=\"/panel/proposal/ppd-pic/:kat/:id\"\n          data=\"{{routeData}}\"\n          tail=\"{{subroute}}\"></app-route>\n\n      <global-variable key=\"LoginCred\" value=\"{{ storedUser }}\"></global-variable>\n      <global-variable key=\"error\" value=\"{{ error }}\"></global-variable>\n      <global-variable key=\"toast\" value=\"{{ toast }}\"></global-variable>\n      <global-data id=\"globalData\"></global-data>\n\n      <vaadin-dialog aria-label=\"polymer templates\" id=\"dialog_upd\">\n        <template > \n          <div style=\"position:relative\">\n             <h3> Data UPD muztahiks a/n {{regObj.muztahiks.nama}}</h3>\n            <section class=\"main\">\n              <table class=\"aside\">\n                  <tr>\n                    <td>Tujuan</td>\n                    <td> <ul>\n                    <dom-repeat items=\"[[regObj.upd.tujuan]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </ul>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>Analisa Kelayakan</td>\n                    <td><ul>\n                       <dom-repeat items=\"[[regObj.upd.analisis_kelayakan]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </td>\n                  </tr>\n              </table><span></span>\n              <table  class=\"aside\" style=\"margin-left: 10px;\">\n                  <tr>\n                    <td>Latar Belakang</td>\n                    <td><ul>\n                    <dom-repeat items=\"[[regObj.upd.latar_belakang]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>Program Penyaluran</td>\n                    <td><ul>\n                      <li><p> Biaya diserahkan kepada : [[regObj.upd.program_penyaluran.alur_biaya]] </p></li>\n                      <li><p> Pelaksanaan Teknis dilakukan : [[regObj.upd.program_penyaluran.pelaksana_teknis]] </p></li>\n                      <li><p> Penanggung Jawab : [[regObj.upd.program_penyaluran.penanggung_jawab]] </p></li>\n                    </td></ul>\n                  </tr>\n                  <tr>\n                    <td>Rekomendasi</td>\n                    <td><ul>\n                    <dom-repeat items=\"[[regObj.upd.rekomendasi]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </td>\n                  </tr>\n              </table>\n            </section>\n            <paper-icon-button  on-click=\"cancel_upd\"  icon = \"clear\" style=\"top: -20px;right: 10px;position: absolute;\">Delete</paper-icon-button>\n          </div>\n        </template>\n      </vaadin-dialog>\n        \n      <vaadin-dialog aria-label=\"polymer templates\" id=\"dialog_manager\">\n        <template>\n        <h4>Ingin mencetak Form Ppd?</h4>\n          <vaadin-button on-click=\"cetak\"> Cetak</vaadin-button>\n          <vaadin-button on-click=\"cancel\"  theme=\"error primary\"> Tidak</vaadin-button>\n        </template>\n      </vaadin-dialog>\n\n    \n      <div class=\"card\">\n      <table border=\"2\" id=\"main-table\">\n            <tbody>\n                <tr>\n                  <th> Tanggal</th>\n                  <td>\n                  <vaadin-date-picker placeholder=\"Pilih tanggal\" id=\"tanggal_ppd\" value=\"[[regObj.persetujuan.tanggal_ppd]]\"  colspan=\"2\"></vaadin-date-picker>\n                  </td>\n                  <th>Nomor</th>\n                  <td>\n                      <vaadin-text-field label=\"\" value=\"{{regObj.persetujuan.nomor_ppd}}\" style=\"width:75%\"></vaadin-text-field>\n                  </td>\n                </tr>\n\n                <tr>\n                  <th> Jenis Pengeluaran</th>\n                  <td colspan=\"3\">\n                    <vaadin-select  value=\"{{regObj.persetujuan.jenis_pengeluaran}}\">\n                      <template>\n                        <vaadin-list-box>\n                          <vaadin-item value=\"Realisasi Biaya\">Realisasi Biaya</vaadin-item>\n                          <vaadin-item value=\"Uang Muka\">Uang Muka</vaadin-item>\n                          <vaadin-item value=\"Lainnya\">Lainnya</vaadin-item>\n                        </vaadin-list-box>\n                      </template>\n                    </vaadin-select>\n                  </td>\n                </tr>\n\n                <tr>\n                  <th> Anggaran Biaya</th>\n                  <td colspan=\"3\">\n                    <vaadin-select  value=\"{{regObj.persetujuan.anggaran_biaya}}\">\n                      <template>\n                        <vaadin-list-box>\n                          <vaadin-item value=\"Dianggarkan\">Dianggarkan</vaadin-item>\n                          <vaadin-item value=\"Tidak Dianggarkan\">Tidak Dianggarkan</vaadin-item>\n                        </vaadin-list-box>\n                      </template>\n                    </vaadin-select>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Referensi</th>\n                  <td colspan=\"3\">\n                      <vaadin-text-field label=\"\" value=\"{{regObj.persetujuan.referensi}}\"></vaadin-text-field>\n                  </td>\n                </tr>\n                \n                <tr>\n                  <th> Tanggal Kebutuhan</th>\n                  <td >\n                    <vaadin-date-picker placeholder=\"Pilih tanggal\" id=\"tanggal_pelaksanaan\" value=\"[[regObj.persetujuan.tanggal_pelaksanaan]]\" ></vaadin-date-picker>\n                  </td>\n                  <th> Sumber Dana</th>\n                  <td >\n                      <vaadin-text-field label=\"\" value=\"{{ regObj.persetujuan.sumber_dana }}\" disabled ></vaadin-text-field>\n                  </td>\n                </tr>\n\n                <tr>\n                  <th> Bank Tertuju / No rekening</th>\n                  <td  colspan=\"3\">\n                      <vaadin-text-area label=\"\" value=\"{{ regObj.persetujuan.bank_tertuju }}\" ></vaadin-text-area>\n                  </td>\n                </tr>\n\n                <tr>\n                  <th> Keterangan</th>\n                  <td colspan=\"3\">\n                  <p>{{regObj.judul_proposal}} </p>\n                  </td>\n                </tr>\n\n                <tr>\n                <tr>\n                  <th> Taksiran Jumlah Biaya</th>\n                  <td colspan=\"3\">\n                  <p>{{_rupiah(regObj.kategoris.jumlah_bantuan)}} </p>\n                  <p>{{_terbilang(regObj.kategoris.jumlah_bantuan)}} Rupiah</p>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Bidang</th>\n                  <td colspan=\"3\">\n                  <p>{{regObj.persetujuan.kategori_program}} - {{_cekSub(regObj.kategoris.sub_program)}} </p>\n                  </td>\n                </tr>\n                  <th> Asnaf (Penerima Manfaat) </th>\n                  <td colspan=\"3\">\n                      <p>{{ regObj.kategoris.asnaf }}</p>\n                        <p>{{ asnafDetail( regObj.kategoris.asnaf) }}</p>\n                  </td>\n                </tr>\n\n            </tbody>\n        </table>\n      </div>\n\n       <!-- Kepala divisi -->\n          <div class=\"card\">\n              <h3> Keuangan {{displayIndex(index)}}</h3>\n                <table border=\"2\" id=\"main-table\">\n                    <tbody>\n                    <tr>\n                          <th> \n                            <p>Manager DPP</p> \n                            <vaadin-select disabled>\n                                <template>\n                                  <vaadin-list-box>\n                                      <vaadin-item label=\"{{regObj.persetujuan.manager_nama}}\" >{{regObj.persetujuan.manager_nama}}</vaadin-item>\n                                  </vaadin-list-box>\n                                </template>\n                            </vaadin-select>\n                            <p> Tanggal TTD : {{ formatDate(regObj.persetujuan.ppd_manager)}} </p>\n                          </th>\n                          <th> \n                            <p>Kadiv DPP</p> \n                            <vaadin-select disabled>\n                                <template>\n                                  <vaadin-list-box>\n                                      <vaadin-item label=\"{{regObj.persetujuan.kadiv_nama}}\" >{{regObj.persetujuan.kadiv_nama}}</vaadin-item>\n                                  </vaadin-list-box>\n                                </template>\n                            </vaadin-select>\n                            <p> Tanggal TTD : {{ formatDate(regObj.persetujuan.ppd_kadiv)}} </p>\n                          </th>\n                        </tr>\n                        <tr>\n                          <th> \n                            <p>Staff Keuangan</p> \n                            <vaadin-select value=\"{{ StaffKeu.user }}\">\n                                <template>\n                                  <vaadin-list-box>\n                                  <dom-repeat items=\"{{ cekUser(User, 2, 2)}}\">\n                                    <template>\n                                      <vaadin-item label=\"{{item.nama}}\" value=\"{{item.Id}}\">{{item.nama}}</vaadin-item>\n                                    </template>\n                                  </dom-repeat>\n                                  </vaadin-list-box>\n                                </template>\n                            </vaadin-select>\n                            <p> Tanggal TTD : {{StaffKeu.tanggal}} </p>\n                          </th>\n                          <th> \n                            <p>Manager Keuangan</p> \n                            <vaadin-select value=\"{{ ManagerKeu.user }}\">\n                                <template>\n                                  <vaadin-list-box>\n                                  <dom-repeat items=\"{{ cekUser(User, 3, 2)}}\">\n                                    <template>\n                                      <vaadin-item label=\"{{item.nama}}\" value=\"{{item.Id}}\">{{item.nama}}</vaadin-item>\n                                    </template>\n                                  </dom-repeat>\n                                  </vaadin-list-box>\n                                </template>\n                            </vaadin-select>\n                            <p> Tanggal TTD : {{ManagerKeu.tanggal}} </p>\n                          </th>\n                        </tr>\n                        <tr>\n                          <th> \n                            <p>Kadiv Keuangan</p> \n                            <vaadin-select value=\"{{ KadivKeu.user }}\">\n                                <template>\n                                  <vaadin-list-box>\n                                  <dom-repeat items=\"{{ cekUser(User, 4, 2)}}\">\n                                    <template>\n                                      <vaadin-item label=\"{{item.nama}}\" value=\"{{item.Id}}\">{{item.nama}}</vaadin-item>\n                                    </template>\n                                  </dom-repeat>\n                                  </vaadin-list-box>\n                                </template>\n                            </vaadin-select>\n                            <p> Tanggal TTD : {{KadivKeu.tanggal}} </p>\n                          </th>\n                          <th> \n                            <p>Direktur Eksekutif</p> \n                            <vaadin-select value=\"{{ DirekturEksekutif.user }}\">\n                                <template>\n                                  <vaadin-list-box>\n                                  <dom-repeat items=\"{{ cekUser(User, 9)}}\">\n                                    <template>\n                                      <vaadin-item label=\"{{item.nama}}\" value=\"{{item.Id}}\">{{item.nama}}</vaadin-item>\n                                    </template>\n                                  </dom-repeat>\n                                  </vaadin-list-box>\n                                </template>\n                            </vaadin-select>\n                            <p> Tanggal TTD : {{DirekturEksekutif.tanggal}} </p>\n                          </th>\n                        </tr>\n                      </tbody>\n                </table>\n          </div>\n\n      <paper-button  raised class=\"green\" on-click=\"printData\" id=\"cetak_upd\" >Cetak Form Ppd</paper-button>\n\n      <paper-button  raised class=\"blue\" on-click=\"sendData\" id=\"simpan_dan_cetak_upd\">Simpan Form Ppd </paper-button>\n\n      <iron-ajax \n          auto\n          id=\"getData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          method=\"GET\"\n          on-response=\"_handleProposal\"\n          on-error=\"_handleProposalError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n        <iron-ajax\n          id=\"datass\"\n          auto\n          on-response=\"_handleKategori\"\n          on-error=\"_errorKategori\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n      <iron-ajax\n            auto \n            id=\"kadiv\"\n            headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n            handle-as=\"json\"\n            method=\"GET\"\n            on-response=\"_handleKadiv\"\n            on-error=\"_errorKadiv\"\n            Content-Type=\"application/json\"\n            debounce-duration=\"300\">\n        </iron-ajax>\n\n        <iron-ajax \n          id=\"postData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          method=\"PUT\"\n          on-response=\"_handlePpdPost\"\n            on-error=\"_handlePpdPostError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n      <iron-ajax \n          id=\"printData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          method=\"GET\"\n          handle-as=\"json\"\n          method=\"GET\"\n          on-response=\"_handlePpdPrint\"\n          on-error=\"_handlePpdPrintError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n    "]);_templateObject_8a29e0c0da2b11e9886ab5694315db4a=function _templateObject_8a29e0c0da2b11e9886ab5694315db4a(){return data};return data}var PpdPic=function(_PolymerElement){babelHelpers.inherits(PpdPic,_PolymerElement);function PpdPic(){babelHelpers.classCallCheck(this,PpdPic);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(PpdPic).apply(this,arguments))}babelHelpers.createClass(PpdPic,[{key:"_activatedChanged",value:function _activatedChanged(newValue,oldValue){if(newValue){this.StaffKeu={user:"",tanggal:""};this.ManagerKeu={user:"",tanggal:""};this.KadivKeu={user:"",tanggal:""};this.DirekturEksekutif={user:"",tanggal:""}}}},{key:"cekUPD",value:function cekUPD(){this.$.dialog_upd.opened=!0}},{key:"_checkPpdTerpilih",value:function _checkPpdTerpilih(){if("undefined"!==typeof this.regObj.ppd){if(0<this.regObj.ppd.length){var staffData=this.regObj.ppd.filter(function(x){return 2==x.user.role});if(0<staffData.length){var tanggal="";if("2001-1-1"!==this.formatDate(new Date(staffData[0].tanggal))&&"1-1-1"!==this.formatDate(new Date(staffData[0].tanggal))&&"NaN-NaN-NaN"!==this.formatDate(new Date(staffData[0].tanggal))){tanggal=this.formatDate(new Date(staffData[0].tanggal))}this.StaffKeu={user:staffData[0].user.Id,tanggal:tanggal}}var managerData=this.regObj.ppd.filter(function(x){return 3==x.user.role});if(0<managerData.length){var tanggal="";if("2001-1-1"!==this.formatDate(new Date(managerData[0].tanggal))&&"1-1-1"!==this.formatDate(new Date(managerData[0].tanggal))&&"NaN-NaN-NaN"!==this.formatDate(new Date(managerData[0].tanggal))){tanggal=this.formatDate(new Date(managerData[0].tanggal))}this.ManagerKeu={user:managerData[0].user.Id,tanggal:tanggal}}var kadivData=this.regObj.ppd.filter(function(x){return 4==x.user.role});if(0<kadivData.length){var tanggal="";if("2001-1-1"!==this.formatDate(new Date(kadivData[0].tanggal))&&"1-1-1"!==this.formatDate(new Date(kadivData[0].tanggal))&&"NaN-NaN-NaN"!==this.formatDate(new Date(kadivData[0].tanggal))){tanggal=this.formatDate(new Date(kadivData[0].tanggal))}this.KadivKeu={user:kadivData[0].user.Id,tanggal:tanggal}}var DirekturData=this.regObj.ppd.filter(function(x){return 9==x.user.role});if(0<DirekturData.length){var tanggal="";if("2001-1-1"!==this.formatDate(new Date(DirekturData[0].tanggal))&&"1-1-1"!==this.formatDate(new Date(DirekturData[0].tanggal))&&"NaN-NaN-NaN"!==this.formatDate(new Date(DirekturData[0].tanggal))){tanggal=this.formatDate(new Date(DirekturData[0].tanggal))}this.DirekturEksekutif={user:DirekturData[0].user.Id,tanggal:tanggal}}}}}},{key:"displayIndex",value:function displayIndex(index){return index+1}},{key:"asnafDetail",value:function asnafDetail(asnaf){switch(asnaf){case"Fakir":return"Mereka yang hampir tidak memiliki apa-apa sehingga tidak mampu memenuhi kebutuhan pokok hidup.";case"Miskin":return"Mereka yang memiliki harta namun tidak cukup untuk memenuhi kebutuhan dasar untuk hidup.";case"Amil":return"Mereka yang mengumpulkan dan mendistribusikan zakat.";case"Mu'allaf":return"Mereka yang baru masuk Islam dan membutuhkan bantuan untuk menguatkan dalam tauhid dan syariah.";case"Hamba sahaya":return"Budak yang ingin memerdekakan dirinya.";case"Gharimin":return"Mereka yang berhutang untuk kebutuhan hidup dalam mempertahankan jiwa dan izzahnya.";case"Fisabilillah":return" Mereka yang berjuang di jalan Allah dalam bentuk kegiatan dakwah, jihad dan sebagainya.";case"Ibnus Sabil":return"Mereka yang kehabisan biaya di perjalanan dalam ketaatan kepada Allah.";}}},{key:"_handleProposal",value:function _handleProposal(e){this.regObj=e.detail.response.Data;if(this.regObj.persetujuan.disposisi_pic_id!==this.storedUser.id){this.set("route.path","/panel/proposal")}this._checkPpdTerpilih()}},{key:"_handleProposalError",value:function _handleProposalError(e){this.error=e.detail.request.xhr.status;this.set("route.path","/panel/proposal")}},{key:"_routePageChanged",value:function _routePageChanged(page){this.$.datass.url="";this.$.datass.url=MyAppGlobals.apiPath+"/api/kategori";this.$.datass.headers.authorization=this.storedUser.access_token;this.$.kadiv.url=MyAppGlobals.apiPath+"/api/users?role=2&role2=3&role3=4&role4=9";this.$.kadiv.headers.authorization=this.storedUser.access_token}},{key:"_handleKategori",value:function _handleKategori(e){var _this=this,response=e.detail.response;this.subkategori=response.data.filter(function(x){return x.KodeP==_this.routeData.kat})[0].sub;this.$.getData.url="";this.$.getData.url=MyAppGlobals.apiPath+"/api/pendaftaran/"+this.routeData.kat+"/"+this.routeData.id;this.$.getData.headers.authorization=this.storedUser.access_token}},{key:"_errorKategori",value:function _errorKategori(e){}},{key:"_handleKadiv",value:function _handleKadiv(e){var response=e.detail.response;this.User=response.data}},{key:"_errorKadiv",value:function _errorKadiv(e){console.log(e)}},{key:"cancel_upd",value:function cancel_upd(){this.shadowRoot.querySelector("#dialog_upd").opened=!1}},{key:"cancel",value:function cancel(){this.toast="Berhasil Menyimpan PPD";this.shadowRoot.querySelector("#dialog_manager").opened=!1;this.set("route.path","/panel/proposal")}},{key:"_handlePpdPost",value:function _handlePpdPost(e){this.shadowRoot.querySelector("#dialog_manager").opened=!0}},{key:"_handlePpdPostError",value:function _handlePpdPostError(e){this.error=e.detail.request.xhr.status;this.set("route.path","/panel/proposal")}},{key:"_changeDatePelaksanaan",value:function _changeDatePelaksanaan(f){if(""!==f&&"undefined"!==typeof f){var date=this.$.tanggal_pelaksanaan,that=this;date.value=this.formatDate(new Date(f));date.addEventListener("change",function(){if(""!==date.value){that.regObj.persetujuan.tanggal_pelaksanaan=new Date(date.value).toISOString()}})}}},{key:"_changeDatePpd",value:function _changeDatePpd(f){if(""!==f&&"undefined"!==typeof f){var date=this.$.tanggal_ppd,that=this;date.value=this.formatDate(new Date(f));date.addEventListener("change",function(){if(""!==date.value){that.regObj.persetujuan.tanggal_ppd=new Date(date.value).toISOString()}})}}},{key:"formatDate",value:function formatDate(date){if("undefined"==typeof date){return""}date=new Date(date);var dd=date.getDate(),mm=date.getMonth()+1,yyyy=date.getFullYear();return yyyy+"-"+mm+"-"+dd}},{key:"sendData",value:function sendData(){this.StaffKeu=this.convertData(this.StaffKeu);this.ManagerKeu=this.convertData(this.ManagerKeu);this.KadivKeu=this.convertData(this.KadivKeu);this.DirekturEksekutif=this.convertData(this.DirekturEksekutif);this.regObj.ppd=[this.StaffKeu,this.ManagerKeu,this.KadivKeu,this.DirekturEksekutif];this.regObj.kategoris.jumlah_bantuan=parseInt(this.regObj.kategoris.jumlah_bantuan);this.$.postData.url=MyAppGlobals.apiPath+"/api/ppd/"+this.routeData.id;this.$.postData.headers.authorization=this.storedUser.access_token;this.$.postData.body=this.regObj;this.$.postData.generateRequest()}},{key:"convertData",value:function convertData(data){data.user=this.User.filter(function(u){return u.Id==data.user})[0];if(""!==data.tanggal&&"undefined"!==data.tanggal){data.tanggal=new Date(data.tanggal).toISOString()}else{delete data.tanggal}return data}},{key:"cekUser",value:function cekUser(user,role){var department=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return user.filter(function(e){if(0!==department){return e.role==role&&e.department==department}return e.role==role})}},{key:"printData",value:function printData(){this.$.printData.url=MyAppGlobals.apiPath+"/api/report/ppd/"+this.routeData.kat+"/"+this.routeData.id;this.$.printData.headers.authorization=this.storedUser.access_token;this.$.printData.generateRequest()}},{key:"cetak",value:function cetak(){this.toast="Berhasil Menyimpan PPD";this.shadowRoot.querySelector("#dialog_manager").opened=!1;this.printData()}},{key:"_handlePpdPrint",value:function _handlePpdPrint(e){if("undefined"!==typeof e.detail.response.url){document.location.href=MyAppGlobals.apiPath+e.detail.response.url;this.set("route.path","/panel/proposal")}}},{key:"_handlePpdPrintError",value:function _handlePpdPrintError(e){this.error=e.detail.request.xhr.status;console.log(e)}},{key:"_cekSub",value:function _cekSub(e){if("undefined"!==typeof this.subkategori){return this.subkategori.filter(function(x){return x.kode==e})[0].nama}}},{key:"_rupiah",value:function _rupiah(nilai){if("undefined"==typeof nilai){nilai=0}var reverse=nilai.toString().split("").reverse().join(""),ribuan=reverse.match(/\d{1,3}/g);ribuan=ribuan.join(".").split("").reverse().join("");return"Rp."+ribuan}},{key:"_terbilang",value:function _terbilang(nilai){var huruf=["","Satu","Dua","Tiga","Empat","Lima","Enam","Tujuh","Delapan","Sembilan","Sepuluh","Sebelas"],stringNilai;if("undefined"==typeof nilai){nilai=0}if(0==nilai){stringNilai=""}else if(12>nilai&&0!=nilai){stringNilai=""+huruf[nilai]}else if(20>nilai){stringNilai=this._terbilang(nilai-10)+" Belas "}else if(100>nilai){stringNilai=this._terbilang(nilai/10)+" Puluh "+this._terbilang(nilai%10)}else if(200>nilai){stringNilai=" Seratus "+this._terbilang(nilai-100)}else if(1e3>nilai){stringNilai=this._terbilang(nilai/100)+" Ratus "+this._terbilang(nilai%100)}else if(2e3>nilai){stringNilai=" Seribu "+this._terbilang(nilai-1e3)}else if(1e6>nilai){stringNilai=this._terbilang(nilai/1e3)+" Ribu "+this._terbilang(nilai%1e3)}else if(1e9>nilai){stringNilai=this._terbilang(nilai/1e6)+" Juta "+this._terbilang(nilai%1e6)}else if(1e12>nilai){stringNilai=this._terbilang(nilai/1e9)+" Milyar "+this._terbilang(nilai%1e9)}else if(1e14>nilai){stringNilai=this._terbilang(nilai/1e12)+" Trilyun "+this._terbilang(nilai%1e12)}else if(1e14>=nilai){stringNilai="Maaf Tidak Dapat di Prose Karena Jumlah nilai Terlalu Besar "}return stringNilai}}],[{key:"template",get:function get(){return(0,_myApp.html)(_templateObject_8a29e0c0da2b11e9886ab5694315db4a())}},{key:"properties",get:function get(){return{tempKadiv:{type:Array,notify:!0,value:function value(){return[]}},Upd:{type:Object,notify:!0,value:function value(){return{}}},storedUser:{type:Object,notify:!0},regObj:{type:Object,notify:!0,value:function value(){return{persetujuan:{tanggal_ppd:this.formatDate(new Date),tanggal_pelaksanaan:this.formatDate(new Date)}}}},StaffKeu:{type:Object,notify:!0,value:function value(){return{user:"",tanggal:""}}},ManagerKeu:{type:Object,notify:!0,value:function value(){return{user:"",tanggal:""}}},KadivKeu:{type:Object,notify:!0,value:function value(){return{user:"",tanggal:""}}},DirekturEksekutif:{type:Object,notify:!0,value:function value(){return{user:"",tanggal:""}}},User:{type:Array,notify:!0,value:function value(){return[]}},activated:{type:Boolean,value:!1,observer:"_activatedChanged"}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData.*)","_changeDatePelaksanaan(regObj.persetujuan.tanggal_pelaksanaan)","_changeDatePpd(regObj.persetujuan.tanggal_ppd)"]}}]);return PpdPic}(_myApp.PolymerElement);window.customElements.define("bmm-ppd-pic",PpdPic)});