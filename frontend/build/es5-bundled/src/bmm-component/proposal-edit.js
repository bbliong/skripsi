define(["require","../my-app.js"],function(_require,_myApp){"use strict";_require=babelHelpers.interopRequireWildcard(_require);function _templateObject_89bfd450da2b11e9886ab5694315db4a(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style include=\"shared-styles\">\n        :host {\n          display: block;\n\n          padding: 10px;\n        }\n\n        .wrap {\n          width:100%;\n        }\n        .paper-toast-open{\n          left: 250px !important;\n        }\n      </style>\n        <!-- app-location binds to the app's URL -->\n        <app-location route=\"{{route}}\"></app-location>\n\n        <!-- this app-route manages the top-level routes -->\n        <app-route\n            route=\"{{route}}\"\n            pattern=\"/panel/proposal/edit-proposal/:kat/:id\"\n            data=\"{{routeData}}\"\n            tail=\"{{subroute}}\"></app-route>\n\n      <global-variable key=\"LoginCred\" value=\"{{ storedUser }}\"></global-variable>\n      <global-variable key=\"Register\" value=\"{{regObj}}\"></global-variable>\n      <global-variable key=\"error\" value=\"{{ error }}\"></global-variable>\n      <global-data id=\"globalData\"></global-data>\n      <div class=\"card\">\n      <h1> Pendaftaran Muztahik</h1>\n      <h4 style=\"color:red\"> *Data ini tidak dapat diubah, silahkan diubah dari table muztahik </h4>\n      <vaadin-form-layout>\n            <vaadin-text-field label=\"Nama\" value=\"{{regObj.muztahiks.nama}}\" disabled></vaadin-text-field>\n            <vaadin-text-field label=\"Nik\" value=\"{{regObj.muztahiks.nik}}\" disabled></vaadin-text-field>\n            <vaadin-text-field label=\"No Handphone\" value=\"{{regObj.muztahiks.nohp}}\" disabled></vaadin-text-field>\n            <vaadin-text-field label=\"Email\" value=\"{{regObj.muztahiks.email}}\" disabled></vaadin-text-field>\n        </vaadin-form-layout>\n\n      <vaadin-form-layout>\n        <vaadin-text-area label=\"Alamat\"  colspan=\"2\" value=\"{{regObj.muztahiks.alamat}}\" disabled></vaadin-text-area>\n        <vaadin-text-field label=\"Kecamatan\" value=\"{{regObj.muztahiks.kecamatan}}\" disabled></vaadin-text-field>\n        <vaadin-text-field label=\"Kabupate/Kota\" value=\"{{regObj.muztahiks.kabkot}}\" disabled></vaadin-text-field>\n        <vaadin-text-field label=\"Provinsi\" value=\"{{regObj.muztahiks.provinsi}}\" disabled></vaadin-text-field>\n        </vaadin-form-layout>\n      </div>\n      <div class=\"card\">\n        <h1>Pendaftaran Proposal</h1>\n          <div class=\"wrap\">\n            <iron-pages selected=\"[[selectedKategori]]\"  attr-for-selected=\"name\">\n              <bmm-kategori-ksm name=\"1\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-ksm>\n              <bmm-kategori-rbm name=\"2\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-rbm>\n              <bmm-kategori-paud name=\"3\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-paud>\n              <bmm-kategori-kafala name=\"4\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-kafala>\n              <bmm-kategori-jsm name=\"5\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-jsm>\n              <bmm-kategori-dzm name=\"6\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-dzm>\n              <bmm-kategori-bsu name=\"7\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-bsu>\n              <bmm-kategori-br name=\"8\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-br>\n              <bmm-kategori-btm name=\"9\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-btm>\n              <bmm-kategori-bsm name=\"10\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-bsm>\n              <bmm-kategori-bcm name=\"11\" subKategori=\"{{subkategori}}\"  user=\"{{User}}\"></bmm-kategori-bcm>\n              <bmm-kategori-asm name=\"12\" subKategori=\"{{subkategori}}\" user=\"{{User}}\"></bmm-kategori-asm>\n            </iron-pages>\n        </div> \n\n        <iron-localstorage name=\"register-data\" value=\"{{regObj}}\" on-iron-localstorage-load-empty=\"inisialRegObj\"></iron-localstorage>\n        <paper-button  raised class=\"indigo\" on-click=\"sendData\" >Registrasi</paper-button> \n      </div>\n        \n      <iron-ajax\n          id=\"datass\"\n          on-response=\"_handleKategori\"\n          on-error=\"_errorKategori\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n      <iron-ajax \n          id=\"postData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          method=\"PUT\"\n          on-response=\"_handleProposalPost\"\n          on-error=\"_handleProposalPostError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n      <iron-ajax \n          auto\n          id=\"getData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          method=\"GET\"\n          on-response=\"_handleProposal\"\n          on-error=\"_handleProposalError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n      <iron-ajax\n          auto \n          id=\"managerDPP\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          method=\"GET\"\n          on-response=\"_handleManager\"\n          on-error=\"_errorManager\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n      \n      <div class=\"toast\">\n         <paper-toast text=\"{{toastError}}\" id=\"toastError\" ></paper-toast>\n      </div>\n\n    "]);_templateObject_89bfd450da2b11e9886ab5694315db4a=function _templateObject_89bfd450da2b11e9886ab5694315db4a(){return data};return data}var ProposalEdit=function(_PolymerElement){babelHelpers.inherits(ProposalEdit,_PolymerElement);function ProposalEdit(){babelHelpers.classCallCheck(this,ProposalEdit);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ProposalEdit).apply(this,arguments))}babelHelpers.createClass(ProposalEdit,[{key:"inisialRegObj",value:function inisialRegObj(){this.regObj={}}},{key:"_routePageChanged",value:function _routePageChanged(page){this.$.datass.url=MyAppGlobals.apiPath+"/api/kategori";this.$.datass.headers.authorization=this.storedUser.access_token;this.$.managerDPP.url=MyAppGlobals.apiPath+"/api/users?role=3&role2=4&role3=9";this.$.managerDPP.headers.authorization=this.storedUser.access_token;this.$.datass.generateRequest()}},{key:"_handleManager",value:function _handleManager(e){var response=e.detail.response;this.User=response.data;console.log(response)}},{key:"_errorManager",value:function _errorManager(e){this.error=e.detail.request.xhr.status;console.log(e)}},{key:"_handleProposal",value:function _handleProposal(e){this.regObj=e.detail.response.Data;this.selectedKategori=this.routeData.kat}},{key:"_handleProposalError",value:function _handleProposalError(e){this.set("route.path","/panel/proposal")}},{key:"_handleProposalPost",value:function _handleProposalPost(e){this.set("route.path","/panel/proposal")}},{key:"_handleProposalPostError",value:function _handleProposalPostError(e){this.error=e.detail.request.xhr.status;this.set("route.path","/panel/proposal")}},{key:"_handleKategori",value:function _handleKategori(e){var _this=this,response=e.detail.response;this.subkategori=response.data.filter(function(x){return x.KodeP==_this.routeData.kat})[0].sub;this.$.getData.url=MyAppGlobals.apiPath+"/api/pendaftaran/"+this.routeData.kat+"/"+this.routeData.id;this.$.getData.headers.authorization=this.storedUser.access_token}},{key:"_errorKategori",value:function _errorKategori(e){}},{key:"sendData",value:function sendData(){console.log(this.regObj);this.$.postData.url=MyAppGlobals.apiPath+"/api/pendaftaran/"+this.routeData.id;this.$.postData.headers.authorization=this.storedUser.access_token;this.$.postData.body=this.regObj;this.$.postData.generateRequest()}},{key:"_kategoriSelected",value:function _kategoriSelected(e){switch(e){case"1":new Promise(function(res,rej){return _require.default(["../bmm-kategori/ksm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$ksm||{}});break;case"2":new Promise(function(res,rej){return _require.default(["../bmm-kategori/rbm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$rbm||{}});break;case"3":new Promise(function(res,rej){return _require.default(["../bmm-kategori/paud.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$paud||{}});break;case"4":new Promise(function(res,rej){return _require.default(["../bmm-kategori/kafala.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$kafala||{}});break;case"5":new Promise(function(res,rej){return _require.default(["../bmm-kategori/jsm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$jsm||{}});break;case"6":new Promise(function(res,rej){return _require.default(["../bmm-kategori/dzm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$dzm||{}});break;case"7":new Promise(function(res,rej){return _require.default(["../bmm-kategori/bsu.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$bsu||{}});break;case"8":new Promise(function(res,rej){return _require.default(["../bmm-kategori/br.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$br||{}});break;case"9":new Promise(function(res,rej){return _require.default(["../bmm-kategori/btm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$btm||{}});break;case"10":new Promise(function(res,rej){return _require.default(["../bmm-kategori/bsm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$bsm||{}});break;case"11":new Promise(function(res,rej){return _require.default(["../bmm-kategori/bcm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$bcm||{}});break;case"12":new Promise(function(res,rej){return _require.default(["../bmm-kategori/asm.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$asm||{}});break;case"view404":new Promise(function(res,rej){return _require.default(["../my-view404.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$myView404||{}});break;}}}],[{key:"template",get:function get(){return(0,_myApp.html)(_templateObject_89bfd450da2b11e9886ab5694315db4a())}},{key:"properties",get:function get(){return{Kategori:{type:Array,notify:!0},storedUser:{type:Object,notify:!0},regObj:{type:Object,notify:!0,value:function value(){return{}}},User:{type:Array,notify:!0,value:function value(){return[]}},nama:{type:String,notify:!0},toastError:String,resID:String,selectedKategori:Number,subkategori:{type:Array,notify:!0,value:function value(){return[]}}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData.*)","_kategoriSelected(selectedKategori)"]}}]);return ProposalEdit}(_myApp.PolymerElement);window.customElements.define("bmm-proposal-edit",ProposalEdit)});