define(["../my-app.js"],function(_myApp){"use strict";function _templateObject_8a09d5a0da2b11e9886ab5694315db4a(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style include=\"shared-styles\">\n        :host {\n          display: block;\n\n          padding: 10px;\n        }\n        #main-table, #sub-table { \n          border-collapse: collapse;\n          border: 1px solid #ddd;\n          text-align: left;\n          width :100%;\n        }\n\n        #main-table > tbody > tr > th{\n          width : 20%;\n          padding : 8px;\n        }\n\n        \n        #sub-table > tbody > tr > td:first-child{\n          width : 30%;\n          padding : 8px;\n        }\n\n\n        tr:nth-child(even) {background-color: #f2f2f2;}\n\n        vaadin-text-area {\n          max-height: 300px;\n          width: 90%;\n          margin : 1px 20px\n        }\n\n        vaadin-text-field, vaadin-number-field ,  vaadin-select,  vaadin-date-picker{\n          width : 90%;\n          margin : 2px 20px;\n        }\n\n        @media all and (max-width: 700px){\n          .card {\n            display :table;\n          }\n\n          .card > table {\n            display :table-row;\n          }\n        }\n\n\n        @media all and (min-width: 600px) {\n          .aside {\n            flex-grow: 1;\n            flex-basis: 0;\n            width : 50%;\n          }\n        }\n\n        @media all and (max-width: 700px){\n          .main {\n            padding: 0px;\n            margin-left: -10px;\n          }\n          table {\n            margin-top : 30px;\n          }\n        }\n\n        @media all and (min-width: 800px) {\n          .main {\n            flex-grow: 3;\n            flex-basis: 0;\n            display :flex;\n          }\n\n          .main {\n            order: 2;\n          }\n\n        }\n        table { \n          border-collapse: collapse;\n          border: 1px solid #ddd;\n          text-align: left;\n          width :100%;\n        }\n\n        table > tbody > tr > td{\n          padding : 8px;\n        }\n\n        tr:nth-child(even) {background-color: #f2f2f2;}\n\n\n      </style>\n       <!-- app-location binds to the app's URL -->\n       <app-location route=\"{{route}}\"></app-location>\n\n      <!-- this app-route manages the top-level routes -->\n      <app-route\n          route=\"{{route}}\"\n          pattern=\"/panel/proposal/komite-persetujuan/:kat/:id\"\n          data=\"{{routeData}}\"\n          tail=\"{{subroute}}\"></app-route>\n\n      <global-variable key=\"LoginCred\" value=\"{{ storedUser }}\"></global-variable>\n      <global-variable key=\"error\" value=\"{{ error }}\"></global-variable>\n      <global-variable key=\"toast\" value=\"{{ toast }}\"></global-variable>\n      <global-data id=\"globalData\"></global-data>\n\n      <vaadin-dialog aria-label=\"polymer templates\" id=\"dialog_upd\">\n        <template > \n          <div style=\"position:relative\">\n             <h3> Data UPD muztahiks a/n {{regObj.muztahiks.nama}}</h3>\n            <section class=\"main\">\n              <table class=\"aside\">\n                  <tr>\n                    <td>Tujuan</td>\n                    <td> <ul>\n                    <dom-repeat items=\"[[regObj.upd.tujuan]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </ul>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>Analisa Kelayakan</td>\n                    <td><ul>\n                       <dom-repeat items=\"[[regObj.upd.analisis_kelayakan]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </td>\n                  </tr>\n              </table><span></span>\n              <table  class=\"aside\" style=\"margin-left: 10px;\">\n                  <tr>\n                    <td>Latar Belakang</td>\n                    <td><ul>\n                    <dom-repeat items=\"[[regObj.upd.latar_belakang]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>Program Penyaluran</td>\n                    <td><ul>\n                      <li><p> Biaya diserahkan kepada : [[regObj.upd.program_penyaluran.alur_biaya]] </p></li>\n                      <li><p> Pelaksanaan Teknis dilakukan : [[regObj.upd.program_penyaluran.pelaksana_teknis]] </p></li>\n                      <li><p> Penanggung Jawab : [[regObj.upd.program_penyaluran.penanggung_jawab]] </p></li>\n                    </td></ul>\n                  </tr>\n                  <tr>\n                    <td>Rekomendasi</td>\n                    <td><ul>\n                    <dom-repeat items=\"[[regObj.upd.rekomendasi]]\" id=\"Kadiv\">\n                         <template>\n                           <li>{{item}}</li>\n                          </template>\n                    </dom-repeat></ul>\n                    </td>\n                  </tr>\n              </table>\n            </section>\n            <paper-icon-button  on-click=\"cancel_upd\"  icon = \"clear\" style=\"top: -20px;right: 10px;position: absolute;\">Delete</paper-icon-button>\n          </div>\n        </template>\n      </vaadin-dialog>\n        \n      <vaadin-dialog aria-label=\"polymer templates\" id=\"dialog_manager\">\n        <template>\n        <h4>Ingin mencetak Form Komite?</h4>\n          <vaadin-button on-click=\"cetak\"> Cetak</vaadin-button>\n          <vaadin-button on-click=\"cancel\"  theme=\"error primary\"> Tidak</vaadin-button>\n        </template>\n      </vaadin-dialog>\n\n      <paper-button  raised class=\"indigo\" on-click=\"cekUPD\" >Lihat UPD</paper-button> \n      <div class=\"card\">\n      <table border=\"2\" id=\"main-table\">\n            <tbody>\n                <tr>\n                  <th> Tanggal</th>\n                  <td>\n                  <vaadin-date-picker placeholder=\"Pilih tanggal\" id=\"tanggal_komite\" value=\"[[regObj.persetujuan.tanggal_komite]]\"  colspan=\"2\"disabled></vaadin-date-picker>\n                  </td>\n                  <th>Nomor</th>\n                  <td>\n                      <vaadin-text-field label=\"\" value=\"{{regObj.persetujuan.nomor_permohonan}}\" style=\"width:75%\"disabled></vaadin-text-field>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Bidang</th>\n                  <td colspan=\"3\">\n                    <vaadin-select value=\"{{ regObj.kategoris.sub_program }}\" label=\"sub-kategori\" disabled>\n                      <template>\n                        <vaadin-list-box>\n                        <dom-repeat items=\"{{subkategori}}\">\n                          <template>\n                            <vaadin-item label=\"{{item.nama}}\" value=\"{{item.kode}}\">{{item.nama}}</vaadin-item>\n                          </template>\n                        </dom-repeat>\n                        </vaadin-list-box>\n                      </template>\n                    </vaadin-select>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Nama Program</th>\n                  <td colspan=\"3\">\n                      <vaadin-text-field label=\"\" value=\"{{ regObj.persetujuan.kategori_program }}\" disabled></vaadin-text-field>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Tujuan Program</th>\n                  <td colspan=\"3\">\n                      <vaadin-text-area label=\"\" value=\"{{regObj.tujuan_proposal}}\"disabled></vaadin-text-area>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Wilayah Penyaluran</th>\n                  <td >\n                      <vaadin-text-area label=\"\" value=\"{{regObj.muztahiks.kabkot}}\"disabled></vaadin-text-area>\n                  </td>\n                  <th > Propinsi</th>\n                  <td >\n                      <vaadin-text-area label=\"\" value=\"{{regObj.muztahiks.provinsi}}\"disabled></vaadin-text-area>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Sifat Santunan</th>\n                  <td colspan=\"3\">\n                    <vaadin-select  value=\"{{regObj.persetujuan.sifat_santunan}}\">\n                      <template>\n                        <vaadin-list-box>\n                          <vaadin-item value=\"Santunan\">Santunan</vaadin-item>\n                          <vaadin-item value=\"Pemberdayaann\">Pemberdayaann</vaadin-item>\n                          <vaadin-item value=\"Lainnya\">Lainnya</vaadin-item>\n                        </vaadin-list-box>\n                      </template>\n                    </vaadin-select>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Biaya Kegiatan</th>\n                  <td>\n                      <vaadin-number-field label=\"\" value=\"{{ regObj.kategoris.jumlah_bantuan }}\" style=\"width:50%;\"disabled></vaadin-number-field>\n                      <vaadin-button on-click=\"_checkKomiteTerpilih\">Cek</vaadin-button>\n                  </td>\n                  <th>Sumber Dana</th>\n                  <td>\n                      <vaadin-text-field label=\"\" value=\"{{ regObj.persetujuan.sumber_dana }}\" style=\"width:75%\"disabled></vaadin-text-field>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Jumlah Penerima Manfaat</th>\n                  <td colspan=\"3\">\n                      <vaadin-text-field label=\"\" value=\"{{regObj.persetujuan.jumlah_penerima_manfaat}}\"disabled></vaadin-text-field>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Asnaf (Penerima Manfaat) </th>\n                  <td colspan=\"1\">\n                      <vaadin-text-field label=\"\" value=\"{{ regObj.kategoris.asnaf }}\" disabled></vaadin-text-field>\n                  </td>\n                  <td colspan=\"2\">\n                      <vaadin-text-area label=\"\" value=\"{{ asnafDetail( regObj.kategoris.asnaf) }}\" disabled></vaadin-text-area>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Mitra Pelaksana</th>\n                  <td colspan=\"3\">\n                      <vaadin-text-field label=\"\"value=\"{{ regObj.persetujuan.mitra_pelaksana }}\"disabled></vaadin-text-field>\n                  </td>\n                </tr>\n                <tr>\n                  <th> Jadwal Pelaksanaan</th>\n                  <td >\n                    <vaadin-date-picker placeholder=\"Pilih tanggal\" id=\"tanggal_pelaksanaan\" value=\"[[regObj.persetujuan.tanggal_pelaksanaan]]\" disabled></vaadin-date-picker>\n                  </td>\n                  <th> Diajukan Oleh</th>\n                  <td >\n                      <vaadin-text-field label=\"\" value=\"{{ regObj.persetujuan.pic_nama }}\" disabled></vaadin-text-field>\n                  </td>\n                </tr>\n            </tbody>\n        </table>\n      </div>\n\n      <!-- Kepala divisi -->\n      <dom-repeat items=\"{{Kadiv}}\" id=\"Kadiv\">\n          <template>\n          <div class=\"card\">\n              <h3> Kepala Divisi {{displayIndex(index)}}</h3>\n                <table border=\"2\" id=\"main-table\">\n                    <tbody>\n                        <tr>\n                          <th> \n                          <p style=\"margin-left : 20px;\">Status  : \n                          <dom-if  if=\"[[cekOtoritas(item.user)]]\">\n                              <template >\n                                   <vaadin-select value=\"{{ item.status }}\" style=\"width:50%\">\n                                      <template>\n                                        <vaadin-list-box>\n                                            <vaadin-item value=\"1\">Setuju</vaadin-item>\n                                            <vaadin-item value=\"2\">Tidak Setuju</vaadin-item>\n                                        </vaadin-list-box>\n                                      </template>\n                                    </vaadin-select>\n                              </template>\n                          </dom-if>\n                          <dom-if  if=\"[[!cekOtoritas(item.user)]]\">\n                              <template >\n                                     {{displayStatus(item.status)}} / {{item.tanggal}}\n                              </template>\n                          </dom-if>                         \n                           </p>\n                          <vaadin-select value=\"{{ item.user }}\" label=\"Kepala Divisi\" disabled>\n                              <template>\n                                <vaadin-list-box>\n                                <dom-repeat items=\"{{ cekUser(User, 4)}}\">\n                                  <template>\n                                    <vaadin-item label=\"{{item.nama}}\" value=\"{{item.Id}}\">{{item.nama}}</vaadin-item>\n                                  </template>\n                                </dom-repeat>\n                                </vaadin-list-box>\n                              </template>\n                            </vaadin-select>\n                            <br>\n                            \n                          </th>\n                          <td>\n                          <p style=\"margin-left : 20px;\">Catatan</p>\n                          <dom-if  if=\"[[cekOtoritas(item.user)]]\">\n                              <template >\n                                  <vaadin-text-area  value=\"{{item.catatan}}\"></vaadin-text-area>\n                              </template>\n                          </dom-if>\n                          <dom-if  if=\"[[!cekOtoritas(item.user)]]\">\n                              <template >\n                                  <vaadin-text-area  value=\"{{item.catatan}}\" disabled></vaadin-text-area>\n                              </template>\n                          </dom-if>\n                          </td>\n                        </tr>\n                      </tbody>\n                </table>\n              </div>\n          </template>\n      </dom-repeat>\n        \n      <!-- Pengawas -->\n      <dom-repeat items=\"{{Pengurus}}\" id=\"Pengurus\">\n          <template>\n          <div class=\"card\">\n              <h3> Pengurus {{displayIndex(index)}}</h3>\n                <table border=\"2\" id=\"main-table\">\n                    <tbody>\n                        <tr>\n                          <th> \n                          <p style=\"margin-left : 20px;\">Status  : \n                          <dom-if  if=\"[[cekOtoritas(item.user)]]\">\n                              <template >\n                                   <vaadin-select value=\"{{ item.status }}\" style=\"width:50%\">\n                                      <template>\n                                        <vaadin-list-box>\n                                            <vaadin-item value=\"1\">Setuju</vaadin-item>\n                                            <vaadin-item value=\"2\">Tidak Setuju</vaadin-item>\n                                        </vaadin-list-box>\n                                      </template>\n                                    </vaadin-select>\n                              </template>\n                          </dom-if>\n                          <dom-if  if=\"[[!cekOtoritas(item.user)]]\">\n                              <template >\n                                     {{displayStatus(item.status)}} / {{item.tanggal}}\n                              </template>\n                          </dom-if>                         \n                           </p>\n                          <vaadin-select value=\"{{ item.user}}\" label=\"Pengawas\" disabled>\n                              <template>\n                                <vaadin-list-box>\n                                <dom-repeat items=\"{{cekUser(User, 7)}}\">\n                                  <template>\n                                    <vaadin-item label=\"{{item.nama}}\" value=\"{{item.Id}}\">{{item.nama}}</vaadin-item>\n                                  </template>\n                                </dom-repeat>\n                                </vaadin-list-box>\n                              </template>\n                            </vaadin-select>\n                            <br>\n                            \n                          </th>\n                          <td>\n                          <p style=\"margin-left : 20px;\">Catatan</p>\n                          <dom-if  if=\"[[cekOtoritas(item.user)]]\">\n                              <template >\n                                  <vaadin-text-area  value=\"{{item.catatan}}\"></vaadin-text-area>\n                              </template>\n                          </dom-if>\n                          <dom-if  if=\"[[!cekOtoritas(item.user)]]\">\n                              <template >\n                                  <vaadin-text-area  value=\"{{item.catatan}}\" disabled></vaadin-text-area>\n                              </template>\n                          </dom-if>\n                          </td>\n                        </tr>\n                      </tbody>\n                </table>\n              </div>\n          </template>\n      </dom-repeat>\n\n       <!-- Pengurus -->\n       <dom-repeat items=\"{{Pengawas}}\" id=\"Pengawas\">\n          <template>\n          <div class=\"card\">\n              <h3> Pengawas {{displayIndex(index)}}</h3>\n                <table border=\"2\" id=\"main-table\">\n                    <tbody>\n                        <tr>\n                          <th> \n                          <p style=\"margin-left : 20px;\">Status  : \n                          <dom-if  if=\"[[cekOtoritas(item.user)]]\">\n                              <template >\n                                   <vaadin-select value=\"{{ item.status }}\" style=\"width:50%\">\n                                      <template>\n                                        <vaadin-list-box>\n                                            <vaadin-item value=\"1\">Setuju</vaadin-item>\n                                            <vaadin-item value=\"2\">Tidak Setuju</vaadin-item>\n                                        </vaadin-list-box>\n                                      </template>\n                                    </vaadin-select>\n                              </template>\n                          </dom-if>\n                          <dom-if  if=\"[[!cekOtoritas(item.user)]]\">\n                              <template >\n                                     {{displayStatus(item.status)}} / {{item.tanggal}}\n                              </template>\n                          </dom-if>                         \n                           </p>\n                          <vaadin-select value=\"{{ item.user }}\" label=\"Kepala Divisi\" disabled>\n                              <template>\n                                <vaadin-list-box>\n                                <dom-repeat items=\"{{cekUser(User, 8)}}\">\n                                  <template>\n                                    <vaadin-item label=\"{{item.nama}}\" value=\"{{item.Id}}\">{{item.nama}}</vaadin-item>\n                                  </template>\n                                </dom-repeat>\n                                </vaadin-list-box>\n                              </template>\n                            </vaadin-select>\n                            <br>\n                            \n                          </th>\n                          <td>\n                          <p style=\"margin-left : 20px;\">Catatan</p>\n                          <dom-if  if=\"[[cekOtoritas(item.user)]]\">\n                              <template >\n                                  <vaadin-text-area  value=\"{{item.catatan}}\"></vaadin-text-area>\n                              </template>\n                          </dom-if>\n                          <dom-if  if=\"[[!cekOtoritas(item.user)]]\">\n                              <template >\n                                  <vaadin-text-area  value=\"{{item.catatan}}\" disabled></vaadin-text-area>\n                              </template>\n                          </dom-if>\n                          </td>\n                        </tr>\n                      </tbody>\n                </table>\n              </div>\n          </template>\n      </dom-repeat>\n\n      <paper-button  raised class=\"indigo\" on-click=\"printData\" id=\"cetak_upd\">Cetak Form Komite</paper-button>\n\n      <paper-button  raised class=\"indigo\" on-click=\"sendData\" id=\"simpan_dan_cetak_upd\">Simpan Form Komite </paper-button>\n\n      <iron-ajax \n          auto\n          id=\"getData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          method=\"GET\"\n          on-response=\"_handleProposal\"\n          on-error=\"_handleProposalError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n        <iron-ajax\n          id=\"datass\"\n          auto\n          on-response=\"_handleKategori\"\n          on-error=\"_errorKategori\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n      <iron-ajax\n            auto \n            id=\"kadiv\"\n            headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n            handle-as=\"json\"\n            method=\"GET\"\n            on-response=\"_handleKadiv\"\n            on-error=\"_errorKadiv\"\n            Content-Type=\"application/json\"\n            debounce-duration=\"300\">\n        </iron-ajax>\n\n        <iron-ajax \n          id=\"postData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          handle-as=\"json\"\n          method=\"PUT\"\n          on-response=\"_handleKomitePost\"\n            on-error=\"_handleKomitePostError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n\n      <iron-ajax \n          id=\"printData\"\n          headers='{\"Access-Control-Allow-Origin\": \"*\" }'\n          method=\"GET\"\n          handle-as=\"json\"\n          method=\"GET\"\n          on-response=\"_handleKomitePrint\"\n          on-error=\"_handleKomitePrintError\"\n          Content-Type=\"application/json\"\n          debounce-duration=\"300\">\n      </iron-ajax>\n    "]);_templateObject_8a09d5a0da2b11e9886ab5694315db4a=function _templateObject_8a09d5a0da2b11e9886ab5694315db4a(){return data};return data}var KomitePersetujuan=function(_PolymerElement){babelHelpers.inherits(KomitePersetujuan,_PolymerElement);function KomitePersetujuan(){babelHelpers.classCallCheck(this,KomitePersetujuan);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(KomitePersetujuan).apply(this,arguments))}babelHelpers.createClass(KomitePersetujuan,[{key:"cekUPD",value:function cekUPD(){this.$.dialog_upd.opened=!0}},{key:"_changeKomite",value:function _changeKomite(val){if("undefined"!=typeof val){if(1e7>=val){this.Kadiv=[{user:"",status:0,catatan:"",tanggal:""},{user:"",status:0,tanggal:"",catatan:""}];this.Pengurus=[];this.Pengawas=[]}else if(5e7>=val){this.Kadiv=[{user:"",status:0,tanggal:"",catatan:""},{user:"",status:0,tanggal:"",catatan:""}];this.Pengurus=[{user:"",status:0,tanggal:"",catatan:""}];this.Pengawas=[]}else if(1e8>=val){this.Kadiv=[{user:"",status:0,tanggal:"",catatan:""},{user:"",status:0,tanggal:"",catatan:""}];this.Pengurus=[{user:"",status:0,tanggal:"",catatan:""},{user:"",status:0,tanggal:"",catatan:""}];this.Pengawas=[]}else{this.Kadiv=[{user:"",status:0,tanggal:"",catatan:""},{user:"",status:0,tanggal:"",catatan:""}];this.Pengurus=[{user:"",status:0,tanggal:"",catatan:""},{user:"",status:0,tanggal:"",catatan:""}];this.Pengawas=[{user:"",status:0,tanggal:"",catatan:"",role:8}]}this.shadowRoot.querySelector("#Kadiv").render();this.shadowRoot.querySelector("#Pengurus").render();this.shadowRoot.querySelector("#Pengawas").render()}}},{key:"_checkKomiteTerpilih",value:function _checkKomiteTerpilih(){this._changeKomite(this.regObj.kategoris.jumlah_bantuan);if("undefined"!==typeof this.regObj.komite){if(0<this.regObj.komite.length){for(var cloneKadiv=this.Kadiv.slice(0),kadivData=this.regObj.komite.filter(function(x){return(4==x.user.role||9==x.user.role)&&1==x.levelKomite}),i=0;i<cloneKadiv.length;i++){if("undefined"!=typeof kadivData[i]){var tanggal="";if("1-1-1"!==this.formatDate(new Date(kadivData[i].tanggal))&&"NaN-NaN-NaN"!==this.formatDate(new Date(kadivData[i].tanggal))){tanggal=this.formatDate(new Date(kadivData[i].tanggal))}cloneKadiv[i]={user:kadivData[i].user.Id,catatan:kadivData[i].catatan,status:kadivData[i].status.toString(),tanggal:tanggal}}}this.Kadiv=cloneKadiv;for(var clonePengurus=this.Pengurus.slice(0),pengurusData=this.regObj.komite.filter(function(x){return(7==x.user.role||9==x.user.role)&&2==x.levelKomite}),i=0;i<clonePengurus.length;i++){if("undefined"!=typeof pengurusData[i]){var tanggal="";if("1-1-1"!==this.formatDate(new Date(pengurusData[i].tanggal))){tanggal=this.formatDate(new Date(pengurusData[i].tanggal))}clonePengurus[i]={user:pengurusData[i].user.Id,catatan:pengurusData[i].catatan,status:pengurusData[i].status.toString(),tanggal:tanggal}}}}this.Pengurus=clonePengurus;for(var clonePengawas=this.Pengawas.slice(0),pengawasData=this.regObj.komite.filter(function(x){return 8==x.user.role}),i=0;i<clonePengawas.length;i++){if("undefined"!=typeof pengawasData[i]){var tanggal="";if("1-1-1"!==this.formatDate(new Date(pengurusData[i].tanggal))){tanggal=this.formatDate(new Date(pengurusData[i].tanggal))}pengawasData[i]={user:pengawasData[i].user.Id,catatan:pengawasData[i].catatan,status:pengawasData[i].status.toString(),tanggal:tanggal}}}this.Pengawas=clonePengawas}}},{key:"displayIndex",value:function displayIndex(index){return index+1}},{key:"asnafDetail",value:function asnafDetail(asnaf){switch(asnaf){case"Fakir":return"Mereka yang hampir tidak memiliki apa-apa sehingga tidak mampu memenuhi kebutuhan pokok hidup.";case"Miskin":return"Mereka yang memiliki harta namun tidak cukup untuk memenuhi kebutuhan dasar untuk hidup.";case"Amil":return"Mereka yang mengumpulkan dan mendistribusikan zakat.";case"Mu'allaf":return"Mereka yang baru masuk Islam dan membutuhkan bantuan untuk menguatkan dalam tauhid dan syariah.";case"Hamba sahaya":return"Budak yang ingin memerdekakan dirinya.";case"Gharimin":return"Mereka yang berhutang untuk kebutuhan hidup dalam mempertahankan jiwa dan izzahnya.";case"Fisabilillah":return" Mereka yang berjuang di jalan Allah dalam bentuk kegiatan dakwah, jihad dan sebagainya.";case"Ibnus Sabil":return"Mereka yang kehabisan biaya di perjalanan dalam ketaatan kepada Allah.";}}},{key:"_handleProposal",value:function _handleProposal(e){this.regObj=e.detail.response.Data;this._checkKomiteTerpilih()}},{key:"_handleProposalError",value:function _handleProposalError(e){this.error=e.detail.request.xhr.status;this.set("route.path","/panel/proposal")}},{key:"_routePageChanged",value:function _routePageChanged(page){this.$.datass.url="";this.$.datass.url=MyAppGlobals.apiPath+"/api/kategori";this.$.datass.headers.authorization=this.storedUser.access_token;this.$.kadiv.url=MyAppGlobals.apiPath+"/api/users?role=4&role2=7&role3=8&role4=9";this.$.kadiv.headers.authorization=this.storedUser.access_token}},{key:"_handleKategori",value:function _handleKategori(e){var _this=this,response=e.detail.response;this.subkategori=response.data.filter(function(x){return x.KodeP==_this.routeData.kat})[0].sub;this.$.getData.url="";this.$.getData.url=MyAppGlobals.apiPath+"/api/pendaftaran/"+this.routeData.kat+"/"+this.routeData.id;this.$.getData.headers.authorization=this.storedUser.access_token}},{key:"_errorKategori",value:function _errorKategori(e){}},{key:"_handleKadiv",value:function _handleKadiv(e){var response=e.detail.response;this.User=response.data}},{key:"_errorKadiv",value:function _errorKadiv(e){console.log(e)}},{key:"cancel_upd",value:function cancel_upd(){this.shadowRoot.querySelector("#dialog_upd").opened=!1}},{key:"cancel",value:function cancel(){this.shadowRoot.querySelector("#dialog_manager").opened=!1;this.set("route.path","/panel/proposal")}},{key:"_handleKomitePost",value:function _handleKomitePost(e){this.shadowRoot.querySelector("#dialog_manager").opened=!0}},{key:"_handleKomitePostError",value:function _handleKomitePostError(e){this.error=e.detail.request.xhr.status;this.set("route.path","/panel/proposal")}},{key:"_changeDatePelaksanaan",value:function _changeDatePelaksanaan(f){if(""!==f&&"undefined"!==typeof f){var date=this.$.tanggal_pelaksanaan,that=this;date.value=this.formatDate(new Date(f));date.addEventListener("change",function(){if(""!==date.value){that.regObj.persetujuan.tanggal_pelaksanaan=new Date(date.value).toISOString()}})}}},{key:"_changeDateKomite",value:function _changeDateKomite(f){if(""!==f&&"undefined"!==typeof f){var date=this.$.tanggal_komite,that=this;date.value=this.formatDate(new Date(f));date.addEventListener("change",function(){if(""!==date.value){that.regObj.persetujuan.tanggal_komite=new Date(date.value).toISOString()}})}}},{key:"formatDate",value:function formatDate(date){var dd=date.getDate(),mm=date.getMonth()+1,yyyy=date.getFullYear();return yyyy+"-"+mm+"-"+dd}},{key:"sendData",value:function sendData(){this.Kadiv=this.convertData(this.Kadiv);this.Pengawas=this.convertData(this.Pengawas);this.Pengurus=this.convertData(this.Pengurus);this.regObj.komite=[].concat(babelHelpers.toConsumableArray(this.Kadiv),babelHelpers.toConsumableArray(this.Pengawas),babelHelpers.toConsumableArray(this.Pengurus));this.$.postData.url=MyAppGlobals.apiPath+"/api/komite/"+this.routeData.id;this.$.postData.headers.authorization=this.storedUser.access_token;this.$.postData.body=this.regObj;this.$.postData.generateRequest()}},{key:"convertData",value:function convertData(data){var that=this,i;for(i=data.length-1;0<=i;i-=1){if("undefined"!==typeof data[i]){data[i].status=parseInt(data[i].status);delete data[i].tanggal;var temp=that.User.filter(function(u){return u.Id==data[i].user});if(0!==temp.length){data[i].user=temp[0]}else{data.splice(i,1)}}}return data}},{key:"displayStatus",value:function displayStatus(data){switch(data){case"0":return"Belum dilihat";case"1":return"Disetujui";case"2":return"Tidak disetujui";default:return"Belum dilihat";}}},{key:"cekUser",value:function cekUser(user,role){return this.User.filter(function(u){return u.role==role||9==u.role})}},{key:"printData",value:function printData(){this.$.printData.url=MyAppGlobals.apiPath+"/api/report/komite/"+this.routeData.kat+"/"+this.routeData.id;this.$.printData.headers.authorization=this.storedUser.access_token;this.$.printData.generateRequest()}},{key:"cetak",value:function cetak(){this.toast="Berhasil Menyimpan Komite";this.shadowRoot.querySelector("#dialog_manager").opened=!1;this.printData()}},{key:"_handleKomitePrint",value:function _handleKomitePrint(e){if("undefined"!==typeof e.detail.response.url){document.location.href=MyAppGlobals.apiPath+e.detail.response.url;this.set("route.path","/panel/proposal")}}},{key:"_handleKomitePrintError",value:function _handleKomitePrintError(e){this.error=e.detail.request.xhr.status;console.log(e)}},{key:"cekOtoritas",value:function cekOtoritas(val){if(val==this.storedUser.id){return!0}return!1}}],[{key:"template",get:function get(){return(0,_myApp.html)(_templateObject_8a09d5a0da2b11e9886ab5694315db4a())}},{key:"properties",get:function get(){return{tempKadiv:{type:Array,notify:!0,value:function value(){return[]}},tempPengawas:String,tempPengurus:String,Upd:{type:Object,notify:!0,value:function value(){return{}}},storedUser:{type:Object,notify:!0},regObj:{type:Object,notify:!0,value:function value(){return{persetujuan:{tanggal_komite:this.formatDate(new Date),tanggal_pelaksanaan:this.formatDate(new Date)}}}},Kadiv:{type:Array,notify:!0,value:function value(){return[]}},Pengawas:{type:Array,notify:!0,value:function value(){return[]}},Pengurus:{type:Array,notify:!0,value:function value(){return[]}},User:{type:Array,notify:!0,value:function value(){return[]}}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData.*)","_changeDatePelaksanaan(regObj.persetujuan.tanggal_pelaksanaan)","_changeDateKomite(regObj.persetujuan.tanggal_komite)"]}}]);return KomitePersetujuan}(_myApp.PolymerElement);window.customElements.define("bmm-komite-persetujuan",KomitePersetujuan)});